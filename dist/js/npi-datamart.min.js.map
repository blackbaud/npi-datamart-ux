{"version":3,"sources":["../../js/src/datamartapi/datamartapi.js","../../js/src/datamartauthentication/datamartauthentication.js","../../js/src/module.js","../../js/templates/templates.js.tmp"],"names":["angular","module","factory","$q","$timeout","$http","BBDataMartAPI","options","getDataMartId","resolve","reject","dataMartId","then","getApiRoot","authentication","getDomain","getAPIContext","apiContextPromise","apiRoot","ensureAuthenticatedContext","ensureAuthenticated","context","getObjectUriFromIdentifier","objectIdentifier","objectUriPromises","lookupUriForObjectId","id","postData","identifierToUri","post","withCredentials","result","data","identifiers","uri","translateObjectIdentifier","getObjectDefinitionByUri","objectUri","get","getSingleElementUri","elementsUri","elementValue","i","el","elementUri","attributeElements","elements","length","title","toString","getAttributeName","attribute","translateAttributeName","getObjectIdentifierDisplayForm","identifier","lastIndexOf","replace","getDataResults","dataResultsUri","skipRetry","xtab_data","executeReportByPostData","execResult","dataResult","buildElementFilter","filter","objectDisplayFormUri","values","filterObj","constraint","type","tasks","value","Array","isArray","push","all","objectElements","buildReportRequestContext","filters","buildContext","reportRequestContext","attributeDisplayForm","Error","objectDisplayFormUriValues","contextFilters","translateFilters","executeReport","reportIdentifier","taskResults","reportRequest","reportPath","report","report_req","executeReportRaw","loadReport","getHeadlineDataResults","xtabData","reportData","getLatestReportDefinition","reportUri","reportObject","content","definitions","pop","reportDefinition","getHeadlineReportDrillContext","drillAttribute","drillContext","metricUri","response","grid","metrics","drillAcrossStepAttributeDF","executionContext","drillInto","locators","metricLocator","target","targetType","loadDrillInRecordIds","rows","ids","split","shift","forEach","row","platformIsAvailable","self","this","getHeadlineReportData","$rootScope","BBDataMartAuthentication","domain","getSSOProvider","ssoProvider","getSSOUrl","targetUrl","getSSOToken","iFrameUrl","reportRootPath","ssoToken","encodeURIComponent","isUnauthorizedFailure","reason","status","getTemporaryToken","getTokenUrl","authenticate","ssoUrl","ensureTemporaryToken","ensureAuthenticatedPromise","getTokenPromise","initialAuthPerformed","intervalHandle","promiseClearTime","Date","getTime","setInterval","clearInterval","maintainAuthScopeCount","$apply","maintainAuthentication","$scope","$on","modules","run","$templateCache","put"],"mappings":"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","file":"npi-datamart.min.js","sourcesContent":[null,null,null,null]}